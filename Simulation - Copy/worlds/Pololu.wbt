#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"

WorldInfo {
  contactProperties [
    ContactProperties {
      material1 "rubber"
      material2 "whiteboard"
      coulombFriction [
        0.7
      ]
    }
  ]
}
Viewpoint {
  orientation -0.22621903483761696 0.3997686399970203 0.8882623389247513 1.054045364897764
  position -2.0667200369226086 -2.96126071140145 1.915006017319906
}
TexturedBackground {
}
TexturedBackgroundLight {
}
Viewpoint {
  orientation -0.4529548758911265 0.4965685779538785 0.7404400906186247 1.8887219168357403
  position 0.3410973940070585 -1.035907382388283 3.23808553907417
}
TexturedBackground {
}
TexturedBackgroundLight {
  luminosity 0
}
RectangleArena {
  floorSize 3 3
}
DEF WAYPOINT_MARKER Solid {
  translation 0 0 0.002
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0 0
        transparency 0.8
        roughness 1
        metalness 0
        emissiveColor 1 0 0
      }
      geometry Cylinder {
        height 1
        radius 0.03
      }
    }
  ]
}
DEF POLULU_ROBOT Robot {
  translation -0.7846410038873405 0.3299663667254416 0.01610865609938993
  rotation -0.00210941635616034 -0.01161209113541898 0.9999303524256573 -3.105670212514177
  children [
    Display {
      width 230
    }
    InertialUnit {
      name "imu"
    }
    GPS {
    }
    Shape {
      appearance PBRAppearance {
        roughness 1
        metalness 0
      }
      geometry Mesh {
        url [
          "../../../Downloads/bodywithoutcaster.obj"
        ]
      }
      castShadows FALSE
      isPickable FALSE
    }
    BallJoint {
      jointParameters BallJointParameters {
        position -1480.3203800420406
        anchor 0 0.0404 -0.0096
      }
      jointParameters2 JointParameters {
        position 25.36285100065328
        axis 1 0 0
      }
      jointParameters3 JointParameters {
        position -103.53481669737458
        axis 0 1 0
      }
      endPoint Solid {
        translation -0.013735908661999474 0.055929553733729376 0.026546531317312994
        rotation 0.6713624314742009 0.4527389828952833 -0.5867707379990871 -2.4143797582666235
        children [
          Shape {
            appearance PBRAppearance {
              roughness 1
              metalness 0
            }
            geometry Mesh {
              url [
                "../Models/caster.obj"
              ]
            }
            castShadows FALSE
            isPickable FALSE
          }
        ]
        name "caster"
        boundingObject Pose {
          translation 0 0.0404 -0.00963
          children [
            Sphere {
              radius 0.00635
              subdivision 3
            }
          ]
        }
        physics Physics {
        }
        linearVelocity 2.992798953628521e-05 -0.0007628950484642818 9.130415807847509e-05
        angularVelocity 0.12014095455065786 0.004712982378162138 0.45206029709826834
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 1941.645717021587
      }
      device [
        RotationalMotor {
          name "LeftMotor"
          maxVelocity 75.4
        }
      ]
      endPoint Solid {
        translation 0.0414994745986966 -0.0003711236842271395 -1.760645792064359e-06
        rotation 0.19500420265105625 -0.9604037381693015 -0.19899251407743399 1.6048922087233377
        children [
          DEF wheel Shape {
            appearance PBRAppearance {
              roughness 1
              metalness 0
            }
            geometry Cylinder {
              height 0.0068
              radius 0.016
              subdivision 500
            }
            castShadows FALSE
            isPickable FALSE
          }
        ]
        contactMaterial "rubber"
        boundingObject USE wheel
        physics Physics {
        }
        linearVelocity -2.7627132854717124e-07 6.36873990962885e-06 8.054769112331884e-05
        angularVelocity -0.00039800874405227724 -1.7181816181239168e-05 1.3152025846149482e-07
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 2555.45425349915
      }
      device [
        DEF RightMotor RotationalMotor {
          name "RightMotor"
          maxVelocity 75.4
        }
      ]
      endPoint Solid {
        translation -0.04149868078943599 0.00036805795931122657 -0.00037268559229777353
        rotation -0.6186882938728938 0.48720949770040023 -0.616321101679288 2.229488738377619
        children [
          USE wheel
        ]
        contactMaterial "rubber"
        boundingObject USE wheel
        physics Physics {
        }
        linearVelocity -2.7383618258466776e-07 6.367152022427877e-06 8.10730104831671e-05
        angularVelocity -0.0003980143369233039 -1.718381150255643e-05 1.3090691443101783e-07
      }
    }
  ]
  boundingObject Pose {
    translation 0 0 0.0025
    children [
      Cylinder {
        height 0.0266
        radius 0.0484
        subdivision 50
      }
    ]
  }
  physics Physics {
    mass 0.158
    centerOfMass [
      0 0 0
    ]
  }
  controller "autonomous_navigation"
  supervisor TRUE
  linearVelocity -2.734371019751254e-07 6.443880792485878e-06 8.07912330418745e-05
  angularVelocity -0.0003980114894070614 -1.718311553249337e-05 1.311469913684018e-07
}
Solid {
  translation -0.34 0.82 4.02622e-06
  rotation 0.5773509358554485 0.5773489358556708 0.5773509358554485 2.0944
  children [
    DEF obstacle Shape {
      appearance PBRAppearance {
        baseColor 0 0 0
        roughness 1
        metalness 0
      }
      geometry Mesh {
        url [
          "../Models/ramp.obj"
        ]
      }
    }
  ]
  name "ramp"
  contactMaterial "whiteboard"
  boundingObject Group {
    children [
      Pose {
        translation -0.590961 0.033 0
        rotation 0 0 1 0.3321694619948667
        children [
          Box {
            size 0.76 0.1 0.28
          }
        ]
      }
      Pose {
        translation -0.01 0.1024 0
        children [
          Box {
            size 0.25 0.25 0.31
          }
        ]
      }
      Pose {
        translation -0.108 -0.2061 0
        children [
          Capsule {
            height 0.4
            radius 0.434
            subdivision 500
          }
        ]
      }
    ]
  }
}
Solid {
  translation 1.03 -3.68058e-07 -2.47807e-06
  rotation 0.5773509358554485 0.5773489358556708 0.5773509358554485 2.0944
  children [
    DEF bump Shape {
      appearance PBRAppearance {
        baseColor 0 0 0
        roughness 1
        metalness 0
      }
      geometry Mesh {
        url [
          "../../../Downloads/bump.obj"
        ]
      }
    }
  ]
  name "bump"
  contactMaterial "whiteboard"
  boundingObject Group {
    children [
      Pose {
        translation -0.590961 0.033 0
        rotation 0 0 1 0.3321694619948667
        children [
          Box {
            size 0.76 0.1 0.28
          }
        ]
      }
    ]
  }
}
